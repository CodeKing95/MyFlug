<?php include 'db.php'; ?>

<!DOCTYPE html>
<html>
<head>
    <title>Passenger's Details</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>

<body class="bg-light">

<div class="container mt-5">

    <h2 class="text-center mb-4">Passenger Details</h2>

    <a href="create.php" class="btn btn-primary mb-3">Add New Passenger</a>

    <table class="table table-bordered table-striped">
        <tr class="table-dark">
            <th>ID</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>DOB</th>
            <th>Country</th>
            <th>City</th>
            <th>Address</th>
            <th>Postcode</th>
            <th>Mobile</th>
            <th>Email</th>
            <th>Passport</th>
            <th>Action</th>
    
        </tr>

        <?php
        $result = mysqli_query($conn, "SELECT * FROM passengers");

        while ($row = mysqli_fetch_assoc($result)): ?>
            <tr>
                <td><?= $row['id'] ?></td>
                <td><?= $row['firstname'] ?></td>
                <td><?= $row['lastname'] ?></td>
                <td><?= $row['dob'] ?></td>
                <td><?= $row['country'] ?></td>
                <td><?= $row['city'] ?></td>
                <td><?= $row['postcode'] ?></td>
                <td><?= $row['mobile'] ?></td>
                <td><?= $row['email'] ?></td>
                <td><?= $row['passport'] ?></td>
                <td><?= $row['passportid'] ?></td>
            

                <td>
                    <a href="edit.php?id=<?= $row['id'] ?>" class="btn btn-warning btn-sm">Edit</a>
                    <a href="delete.php?id=<?= $row['id'] ?>" 
                       onclick="return confirm('Delete this passenger?')" 
                       class="btn btn-danger btn-sm">Delete</a>
                </td>
            </tr>
        <?php endwhile; ?>
    </table>

</div>

</body>
</html>
